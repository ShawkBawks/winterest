<!DOCTYPE html>
<html lang="en">
<head>
    <title>View Article</title>

    <link rel="stylesheet" href="/vendor/normalize-4.1.1.css" type="text/css" />
    <link rel="stylesheet" href="/vendor/border-box.css" type="text/css" />
    <!-- <link rel="stylesheet" href="/styles/layout.css" type="text/css" /> -->
    <link rel="stylesheet" href="/styles/nav-bar.css" type="text/css" />
    <link rel="stylesheet" href="/styles/grid.css" type="text/css" />
    <link rel="stylesheet" href="/styles/viewArticle.css" type="text/css" />
    <link rel="stylesheet" href="/styles/articleReviews.css" type="text/css" />
    <link rel="stylesheet" href='https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css'>

    <script type="text/javascript" src="/vendor/jquery-3.0.0.js"></script>
    <script type="text/javascript" src="/scripts/app.js"></script>
    <script type="text/javascript" src="/scripts/viewArticle.js"></script>

</head>
<header><% include partials/_header.ejs %></header>
<body class="body">
    <article class="article">
        <div class="article__title-container">
            <h1 class="article__title-header"><%= article.title %></h1>
        </div>
        <div class="article__body-container">
            <div class="article__imageRating">
                <div class="article__image-container">
                    <img class="article__image" src="<%= article.thumbnail %>" alt="">
                </div>
                <div class="article__rating-icons">
                    <form action="/viewArticle/<%= article_id %>/like" method="POST">
                        <button type='submit' id="article__rating-icon"><i class="fa fa-heart"></i></button>
                    </form>
                    
                        <div class="star-rating">
                        <input id="star-5" type="radio" name="rating" value="star-5">
                        <label for="star-5" title="5 stars">
                                <i class="active fa fa-star" aria-hidden="true"></i>
                        </label>
                        <input id="star-4" type="radio" name="rating" value="star-4" checked>
                        <label for="star-4" title="4 stars">
                                <i class="active fa fa-star" aria-hidden="true"></i>
                        </label>
                        <input id="star-3" type="radio" name="rating" value="star-3">
                        <label for="star-3" title="3 stars">
                                <i class="active fa fa-star" aria-hidden="true"></i>
                        </label>
                        <input id="star-2" type="radio" name="rating" value="star-2">
                        <label for="star-2" title="2 stars">
                                <i class="active fa fa-star" aria-hidden="true"></i>
                        </label>
                        <input id="star-1" type="radio" name="rating" value="star-1">
                        <label for="star-1" title="1 star">
                                <i class="active fa fa-star" aria-hidden="true"></i>
                        </label>
                    </div>
                </div>
            </div>
                <div class="article__descriptionUrl">
                <div class="article__description-container">
                    <h4 class="article__description"><%= article.description %>
                    </h4>
                </div>
                <div class="article__url-container">
                    <a class="article__url" href="<%= article.url %>">View Article</a>
                </div>
            </div>
        </div>
        <div class="article__comment-container">
          <button class="article__comments-button">
            <span class="article__submission-text">Comments</span>
          </button>
          <section class="article__comments-container">
            <div class="article__error-message"></div>
            <form method="POST" action="/viewArticle/<%= article.id %>" class="article__comments-form">
                <textarea class="article__comment" rows= "1" name="text" placeholder="What are you humming about?"></textarea>
                <input class="article__comment--submission" type="submit" value="Post">
                <span class="article__comment--counter">140</span>
            </form>
          </section>
        </div>
    </article>
    <div class="review-container">
      <% for(commentObject of article.allComments) { %>
        <article class="review">
          <header class="review-header">
            <img class="review-img" src="./images/profile-hex.png" alt="">
            <h4 class= "review-username"><%= user %></h4>
          </header>
          <span class="review-body"><%= commentObject.comment %></span>
          <footer class="review-footer">
            <h4 class="review-timestamp"><%=  commentObject.posted_at  %> </h4>
          </footer>
        </article>
        <% } %>
      </div>
</body>
</html>
